(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{740:function(a,t,e){"use strict";e.r(t);var s=e(62),r=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h3",{attrs:{id:"视频剪切"}},[a._v("视频剪切 "),t("a",{staticClass:"header-anchor",attrs:{href:"#视频剪切"}},[a._v("#")])]),a._v(" "),t("blockquote",[t("ul",[t("li",[t("code",[a._v("-ss")]),a._v("  开始时间")]),a._v(" "),t("li",[t("code",[a._v("-t")]),a._v("  持续时间")])])]),a._v(" "),t("blockquote",[t("p",[a._v("1.截取从 "),t("code",[a._v("00:00:00")]),a._v(" 开始的 30 秒视频")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" 00:00:00 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" 00:00:30 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" keyoutput.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy split.mp4\n")])])]),t("blockquote",[t("p",[a._v("2.截取从 "),t("code",[a._v("00:00:30")]),a._v(" 开始的 30 秒视频")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" 00:00:30 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" 00:00:30 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" keyoutput.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy split1.mp4\n")])])]),t("h3",{attrs:{id:"视频合并"}},[a._v("视频合并 "),t("a",{staticClass:"header-anchor",attrs:{href:"#视频合并"}},[a._v("#")])]),a._v(" "),t("blockquote",[t("p",[a._v("视频合并，其中 list.txt 是待合并的视频列表，使用换行进行分隔")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" concat "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" list.txt "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" copy concat.mp4\n")])])]),t("h3",{attrs:{id:"视频转码"}},[a._v("视频转码 "),t("a",{staticClass:"header-anchor",attrs:{href:"#视频转码"}},[a._v("#")])]),a._v(" "),t("blockquote",[t("ul",[t("li",[t("p",[t("code",[a._v("-i")]),a._v("  后面是输入文件名")])]),a._v(" "),t("li",[t("p",[t("code",[a._v("-vcodec")]),a._v("  后面是编码格式，h264 最佳")])])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" out.ogv "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" h264 out.mp4\n")])])]),t("h3",{attrs:{id:"视频添加水印"}},[a._v("视频添加水印 "),t("a",{staticClass:"header-anchor",attrs:{href:"#视频添加水印"}},[a._v("#")])]),a._v(" "),t("blockquote",[t("p",[a._v("main_w-overlay_w-10 视频的宽度-水印的宽度-水印边距；")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" logo.jpg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter_complex")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":v"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(":v"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("overlay"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("main_w-overlay_w-10:main_h-overlay_h-10"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("out"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":a "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-codec:a")]),a._v(" copy output.mp4\n")])])]),t("h3",{attrs:{id:"提取视频中的音频"}},[a._v("提取视频中的音频 "),t("a",{staticClass:"header-anchor",attrs:{href:"#提取视频中的音频"}},[a._v("#")])]),a._v(" "),t("blockquote",[t("ul",[t("li",[t("p",[t("code",[a._v("-vn")]),a._v("  去掉视频")])]),a._v(" "),t("li",[t("p",[t("code",[a._v("-acodec")]),a._v("  音频选项， 一般后面加 "),t("code",[a._v("copy")]),a._v(" 表示拷贝")])])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-acodec")]),a._v(" copy "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vn")]),a._v(" output.mp3\n")])])]),t("h3",{attrs:{id:"音视频合成"}},[a._v("音视频合成 "),t("a",{staticClass:"header-anchor",attrs:{href:"#音视频合成"}},[a._v("#")])]),a._v(" "),t("blockquote",[t("p",[a._v("-y 覆盖输出文件")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" –i input.mp4 –i input.mp3 –vcodec copy –acodec copy output.mp4\n")])])]),t("h3",{attrs:{id:"去掉视频中的音频"}},[a._v("去掉视频中的音频 "),t("a",{staticClass:"header-anchor",attrs:{href:"#去掉视频中的音频"}},[a._v("#")])]),a._v(" "),t("blockquote",[t("ul",[t("li",[t("p",[t("code",[a._v("-an")]),a._v("  去掉音频")])]),a._v(" "),t("li",[t("p",[t("code",[a._v("-vcodec")]),a._v("  视频选项，一般后面加 "),t("code",[a._v("copy")]),a._v(" 表示拷贝")])])])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("ffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vcodec")]),a._v(" copy "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-an")]),a._v(" output.mp4\n")])])]),t("h3",{attrs:{id:"其他"}},[a._v("其他 "),t("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[a._v("#")])]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("// 视频分解为图片\nffmpeg –i test.mp4 –r "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" –f image2 image-%3d.jpg\n// "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-r")]),a._v(" 指定截屏频率\n\n// 将视频转为gif\nffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ss")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),a._v(":0:30 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" 320x240 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" rgb24 output.gif\n// "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-pix_fmt")]),a._v(" 指定编码\n\n// 将视频前30帧转为gif\nffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vframes")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("30")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" gif output.gif\n\n// 旋转视频\nffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("rotate")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("PI/2 output.mp4\n\n// 缩放视频\nffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-vf")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("scale")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("iw/2:-1 output.mp4\n// iw 是输入的宽度， iw/2就是一半"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("-1 为保持宽高比\n\n//视频变速\nffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter:v")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("setpts")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.5")]),a._v("*PTS output.mp4\n\n//音频变速\nffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp3 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter:a")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("atempo")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2.0")]),a._v(" output.mp3\n\n//音视频同时变速，但是音视频为互倒关系\nffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" input.mp4 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-filter_complex")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[0:v]setpts=0.5*PTS[v];[0:a]atempo=2.0[a]"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[v]"')]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-map")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"[a]"')]),a._v(" output.mp4\n\n// 视频截图\nffmpeg –i test.mp4 –f image2 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.001")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" 320x240 image-%3d.jpg\n// "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" 设置分辨率"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" 强迫采用格式fmt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n// 将图片合成视频\nffmpeg "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v(" image2 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" image%d.jpg output.mp4\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);